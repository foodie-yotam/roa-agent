# ROA Swarm Architecture - Declarative Configuration
# This file defines the entire multi-agent system structure

name: ROA
version: "2.0"
description: Restaurant Operations Assistant - Hierarchical Multi-Agent Swarm

metadata:
  created: "2025-11-01"
  author: "ROA Team"
  framework: "langgraph"
  deployment: "langgraph-cloud"

# Global configuration
global_config:
  llm:
    provider: google
    model: gemini-2.0-flash-exp
    temperature: 0.7
    
  database:
    type: neo4j
    connection_env: NEO4J_URI
    
  tracing:
    enabled: true
    project: roa-voice-dev
    
  circuit_breaker:
    max_same_worker_attempts: 2
    max_total_attempts: 3

# Hierarchical Team Structure
hierarchy:
  root:
    type: supervisor
    config: supervisors/root_supervisor.yaml
    
    children:
      visualization:
        type: worker
        config: agents/visualization_agent.yaml
        
      marketing:
        type: worker
        config: agents/marketing_agent.yaml
        
      builder_team:
        type: supervisor
        config: supervisors/builder_supervisor.yaml
        children:
          dev_tools:
            type: worker
            config: agents/dev_tools_agent.yaml
            
      chef_team:
        type: supervisor
        config: supervisors/chef_supervisor.yaml
        
        children:
          kitchen_team:
            type: supervisor
            config: supervisors/kitchen_supervisor.yaml
            children:
              recipe:
                type: worker
                config: agents/recipe_agent.yaml
              team_pm:
                type: worker
                config: agents/team_pm_agent.yaml
              dish_ideation:
                type: worker
                config: agents/dish_ideation_agent.yaml
                
          inventory_team:
            type: supervisor
            config: supervisors/inventory_supervisor.yaml
            children:
              stock:
                type: worker
                config: agents/stock_agent.yaml
              suppliers:
                type: worker
                config: agents/suppliers_agent.yaml
              analysis:
                type: worker
                config: agents/analysis_agent.yaml
                
          sales_team:
            type: supervisor
            config: supervisors/sales_supervisor.yaml
            children:
              profit:
                type: worker
                config: agents/profit_agent.yaml

# Tool Registry - Map tool names to implementations
tools:
  # Recipe tools
  search_recipes:
    module: agent
    function: search_recipes
    
  get_recipe_details:
    module: agent
    function: get_recipe_details
    
  # Team management tools
  get_team_members:
    module: agent
    function: get_team_members
    
  assign_task:
    module: agent
    function: assign_task
    
  # Dish tools
  suggest_dishes:
    module: agent
    function: suggest_dishes
  
  # Inventory tools
  check_stock:
    module: agent
    function: check_stock
  
  list_suppliers:
    module: agent
    function: list_suppliers
    
  forecast_demand:
    module: agent
    function: forecast_demand
  
  # Sales tools
  calculate_cost:
    module: agent
    function: calculate_cost
    
  # Visualization tools
  display_recipes:
    module: agent
    function: display_recipes
    
  display_multiplication:
    module: agent
    function: display_multiplication
  
  display_prediction_graph:
    module: agent
    function: display_prediction_graph
  
  display_inventory_alert:
    module: agent
    function: display_inventory_alert
  
  display_team_assignment:
    module: agent
    function: display_team_assignment
  
  # Marketing tools
  create_marketing_content:
    module: agent
    function: create_marketing_content
  
  # Builder tools
  generate_tool_code:
    module: agent
    function: generate_tool_code

# Prompt Templates Directory
prompts_directory: prompts/

# Evaluation Configuration (for future use)
evaluation:
  enabled: false
  evaluators:
    quality_scorer:
      type: llm_as_judge
      prompt_file: prompts/evaluators/quality_scorer.md
      threshold: 7
      
    task_completion:
      type: llm_as_judge
      prompt_file: prompts/evaluators/task_completion.md
      threshold: 8
